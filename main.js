(()=>{"use strict";class t{constructor(t,e,i){this.container=t,this.formContainer=null,this.errorElement=null,this.form=null,this.createCallback=i,this.updateCallback=e,this.bindToDOM()}bindToDOM(){this.createFormContainer({name:"",description:""}),this.events()}createFormContainer(e){this.formContainer=document.createElement("div"),this.formContainer.classList.add("ticket-form-container"),this.formContainer.innerHTML=t.markup(e),this.container.append(this.formContainer)}events(){const e=this.formContainer.querySelector('[data-toggle="ticket-close"]');this.form=this.formContainer.querySelector("form");const i=this.form.querySelectorAll("input, textarea");e.addEventListener("click",(()=>this.hide())),this.form.addEventListener("submit",(t=>this.onSubmit(t))),i.forEach((e=>{e.addEventListener("input",(()=>t.removeErrorClass(e)))}))}async show(e){this.formContainer.classList.add("ticket-form-container_visible"),e&&(this.ticketId=e.id,this.formContainer.innerHTML=t.markup(e),this.events())}hide(){this.formContainer.classList.remove("ticket-form-container_visible"),this.form.reset()}async onSubmit(e){e.preventDefault();const i=Array.from(this.form.elements),s=t.getNotValidEl(i);if(s)return void s.classList.add("error");const a=Object.fromEntries(new FormData(e.target));this.ticketId?await this.updateCallback(this.ticketId,a):await this.createCallback(a)}static removeErrorClass(t){t.value.trim()&&t.classList.remove("error")}static markup(t){return`\n        <form id="ticket-form" novalidate>\n        <div class="form-control form-ticket">\n          <label class="label-ticket" for="name">Краткое описание</label>\n          <input name="name" data-id="name" class="input input-ticket" type="text" placeholder="ticket name" autocomplete="off" value="${t.name}" required> \n        </div>\n        <div class="form-control form-ticket">\n          <label for="description" class="label-ticket">Подробное описание</label>\n          <textarea name="description" data-id="description" class="input input-ticket" placeholder="ticket description" autocomplete="off"\n              cols="25" rows="5" maxlength="100" minlength="20" tabindex="0">${t.description}</textarea>\n        </div>\n        <div class="ticket-btn">\n          <button type="button" class="btn btn-add" data-toggle="ticket-close" title="Close ticket form">Отмена</button>\n          <button type="submit" class="btn btn-close" data-toggle="ticket-add" title="Submit ticket form">ОК</button>\n        </div>\n      </form>`}static getNotValidEl(t){return t.find((t=>"button"!==t.type&&"submit"!==t.type&&!t.value.trim()))}}const e=async function(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};try{let a;const n="allTickets"===e||e.startsWith("delete")||e.startsWith("ticket");switch(e){case"createTicket":a=await fetch(`${t}?method=${e}`,{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",...s}});break;case"updateById":if(!i.id)return console.error("ID is required for updateById method"),null;a=await fetch(`${t}?method=${e}&id=${i.id}`,{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",...s}});break;case"allTickets":case"ticketById":case"deleteById":{if(n&&"allTickets"!==e&&!i.id)return console.error("ID is required for ticketById and deleteById methods"),null;const r=new URLSearchParams(n?i:{}).toString();a=await fetch(`${t}?method=${e}${r?`&${r}`:""}`,{method:"GET",headers:{"Content-Type":"application/json",...s}});break}default:return console.error("Unsupported method:",e),null}return a.ok?"deleteById"===e?"success":await a.json():(console.error(`Server error: ${a.statusText}`),null)}catch(t){return console.error("Network error:",t),null}};class i{constructor(t){this.url=t}list(){return e(this.url,"allTickets")}get(t){return e(this.url,"ticketById",{id:t})}create(t){return e(this.url,"createTicket",t)}update(t,i){return e(this.url,"updateById",{...i,id:t})}delete(t){return e(this.url,"deleteById",{id:t})}}class s{constructor(t,e,i,s){let{id:a,name:n,description:r,status:o,created:c}=t;this.id=a,this.name=n,this.description=r,this.status=o,this.created=c,this.container=e,this.updateCallback=i,this.showFormCallback=s,this.bind()}bind(){this.container.innerHTML=this.markup,this.events()}events(){const t=this.container.querySelector(".update"),e=this.container.querySelector(".delete"),i=this.container.querySelector(".done"),s=this.container.querySelector(".ticket-body");t.addEventListener("click",(()=>this.update())),e.addEventListener("click",(()=>this.delete())),s.addEventListener("click",(()=>this.showDescription())),i.addEventListener("click",(()=>this.done()))}update(){this.showFormCallback(this.id)}delete(){const t=document.querySelector(".delete-message");t.classList.add("delete-message_visible"),t.setAttribute("data-id",this.id)}showDescription(){this.container.querySelector(".ticket-description").classList.toggle("ticket-description_visible")}done(){this.updateCallback(this.id,{status:!this.status})}get markup(){const t=new Date(this.created).toLocaleString("ru-RU");return`\n    <span class="done" data-status="${this.status}">${this.status?"&#10003;":""}</span>\n    <th class='ticket-body'> \n      <div>\n      <span colspan="2" class="ticket-name" data-name="${this.name}">${this.name}</span>\n      <span colspan="2" class="ticket-description" >${this.description}</span>\n      </div>\n      <span colspan="2" class="ticket-created">${t}</span>\n    </th>\n    <th class="ticket-actions"><span class="update">✎</span><span class="delete">✖</span></th>\n    `}}class a{constructor(t,e,i){this.container=t,this.updateCallback=e,this.showFormCallback=i,this.tickets=[]}bindToDOM(t){t.forEach((t=>{const e=document.createElement("tr"),i=new s(t,e,this.updateCallback,this.showFormCallback);this.tickets.push(i),e.setAttribute("data-row",t.id),e.classList.add("ticket-row"),this.container.append(e)}))}}class n{constructor(t,e){this.container=t,this.ticketService=new i(e),this.form=null,this.ticketView=null,this.tableBody=null,this.deleteMessage=null,this.updateTicket=this.updateTicket.bind(this),this.showForm=this.showForm.bind(this),this.createTicket=this.createTicket.bind(this)}async init(){this.renderInitialMarkup(),this.initializeDOMElements(),this.initializeTicketView(),this.initializeTicketForm(),this.events(),await this.reloadData()}renderInitialMarkup(){this.container.innerHTML=n.markup()}initializeDOMElements(){this.tableBody=this.container.querySelector("tbody"),this.deleteMessage=this.container.querySelector(".delete-message")}initializeTicketView(){this.ticketView=new a(this.tableBody,this.updateTicket,this.showForm)}initializeTicketForm(){this.form=new t(this.container,this.updateTicket,this.createTicket)}events(){const t=this.container.querySelector('[data-id="add"]'),e=this.container.querySelector('[data-toggle="delete-ticket"]'),i=this.container.querySelector('[data-toggle="close-message"]');t.addEventListener("click",(()=>this.showForm())),e.addEventListener("click",(()=>this.deleteTicket())),i.addEventListener("click",(()=>this.closeMessage()))}async reloadData(){for(;this.tableBody.firstChild;)this.tableBody.removeChild(this.tableBody.firstChild);const t=await this.ticketService.list();t&&this.ticketView.bindToDOM(t)}async deleteTicket(){null!==await this.ticketService.delete(this.deleteMessage.dataset.id)&&(await this.reloadData(),this.closeMessage())}async createTicket(t){null!==await this.ticketService.create(t)&&(await this.reloadData(),this.form.hide())}async updateTicket(t,e){null!==await this.ticketService.update(t,e)&&(await this.reloadData(),this.form.hide())}async getTicket(t){return await this.ticketService.get(t)}closeMessage(){this.deleteMessage.classList.remove("delete-message_visible")}async showForm(t){if(t){const e=await this.getTicket(t);this.form.show(e)}else this.form.show()}static markup(){return'\n      <table class="table">\n        <thead>\n          <tr class="tickets">\n            <th colspan="6" style="text-align:right" data-id="add"><span class="add">Добавить тикет</span></th>\n          </tr>\n        </thead>\n        <tbody></tbody>\n      </table>\n      <div class="delete-message">\n        <h2>Удалить тикет</h2>\n        <div>Вы уверены, что хотите удалить тикет? Это действие необратимо</div>\n        <div class="ticket-btn">\n          <button type="button" class="btn btn-close" data-toggle="close-message" title="Close delete message">Отмена</button>\n          <button type="button" class="btn btn-add" data-toggle="delete-ticket" title="Button for delete ticket">Ok</button>\n        </div>\n      </div>\n    '}}const r=document.getElementById("root");new n(r,"http://localhost:3000/").init()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFVYyxZQUFZekgsS0FBSzJHLFVBQVVhLFlBRTVDLE1BQU0zRixRQUFhN0IsS0FBS3lHLGNBQWMvQixPQUNsQzdDLEdBQ0Y3QixLQUFLMEcsV0FBV3RHLFVBQVV5QixFQUU5QixDQUVBLGtCQUFNeUYsR0FJVyxhQUhNdEgsS0FBS3lHLGNBQWMxQixPQUN0Qy9FLEtBQUs0RixjQUFjOEIsUUFBUTNGLFlBR3JCL0IsS0FBS29ILGFBQ1hwSCxLQUFLdUgsZUFFVCxDQUVBLGtCQUFNVCxDQUFhakYsR0FFRixhQURNN0IsS0FBS3lHLGNBQWM1QixPQUFPaEQsV0FFdkM3QixLQUFLb0gsYUFDWHBILEtBQUtHLEtBQUttQixPQUVkLENBRUEsa0JBQU1zRixDQUFhN0UsRUFBSTRGLEdBRU4sYUFETTNILEtBQUt5RyxjQUFjM0IsT0FBTy9DLEVBQUk0RixXQUUzQzNILEtBQUtvSCxhQUNYcEgsS0FBS0csS0FBS21CLE9BRWQsQ0FFQSxlQUFNc0csQ0FBVTdGLEdBRWQsYUFEcUIvQixLQUFLeUcsY0FBYzdCLElBQUk3QyxFQUU5QyxDQUVBd0YsWUFBQUEsR0FDRXZILEtBQUs0RixjQUFjaEYsVUFBVW9CLE9BQU8seUJBQ3RDLENBRUEsY0FBTTZFLENBQVM5RSxHQUNiLEdBQUlBLEVBQUksQ0FDTixNQUFNOEYsUUFBZTdILEtBQUs0SCxVQUFVN0YsR0FDcEMvQixLQUFLRyxLQUFLeUIsS0FBS2lHLEVBQ2pCLE1BQ0U3SCxLQUFLRyxLQUFLeUIsTUFFZCxDQUVBLGFBQU9iLEdBQ0wsTUFBUSx1dUJBa0JWLEVDNUhGLE1BQU0rRyxFQUFPcEgsU0FBU3FILGVBQWUsUUFHekIsSUFBSXZCLEVBQVNzQixFQUZiLDBCQUlSZixNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVscC1kZXNrLWZyb250Ly4vc3JjL2pzL3RpY2tldEZvcm0uanMiLCJ3ZWJwYWNrOi8vaGVscC1kZXNrLWZyb250Ly4vc3JjL2pzL2FwaS9jcmVhdGVSZXF1ZXN0LmpzIiwid2VicGFjazovL2hlbHAtZGVzay1mcm9udC8uL3NyYy9qcy90aWNrZXRTZXJ2aWNlLmpzIiwid2VicGFjazovL2hlbHAtZGVzay1mcm9udC8uL3NyYy9qcy90aWNrZXQuanMiLCJ3ZWJwYWNrOi8vaGVscC1kZXNrLWZyb250Ly4vc3JjL2pzL3RpY2tldFZpZXcuanMiLCJ3ZWJwYWNrOi8vaGVscC1kZXNrLWZyb250Ly4vc3JjL2pzL2hlbHBEZXNrLmpzIiwid2VicGFjazovL2hlbHAtZGVzay1mcm9udC8uL3NyYy9qcy9hcHAuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGlja2V0Rm9ybSB7XG4gIGNvbnN0cnVjdG9yKGNvbnRhaW5lciwgdXBkYXRlQ2FsbGJhY2ssIGNyZWF0ZUNhbGxiYWNrKSB7XG4gICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgdGhpcy5mb3JtQ29udGFpbmVyID0gbnVsbDtcbiAgICB0aGlzLmVycm9yRWxlbWVudCA9IG51bGw7XG4gICAgdGhpcy5mb3JtID0gbnVsbDtcbiAgICB0aGlzLmNyZWF0ZUNhbGxiYWNrID0gY3JlYXRlQ2FsbGJhY2s7XG4gICAgdGhpcy51cGRhdGVDYWxsYmFjayA9IHVwZGF0ZUNhbGxiYWNrO1xuXG4gICAgdGhpcy5iaW5kVG9ET00oKTtcbiAgfVxuXG4gIGJpbmRUb0RPTSgpIHtcbiAgICB0aGlzLmNyZWF0ZUZvcm1Db250YWluZXIoeyBuYW1lOiAnJywgZGVzY3JpcHRpb246ICcnIH0pO1xuICAgIHRoaXMuZXZlbnRzKCk7XG4gIH1cblxuICBjcmVhdGVGb3JtQ29udGFpbmVyKGZvcm1EYXRhKSB7XG4gICAgdGhpcy5mb3JtQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5mb3JtQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3RpY2tldC1mb3JtLWNvbnRhaW5lcicpO1xuICAgIHRoaXMuZm9ybUNvbnRhaW5lci5pbm5lckhUTUwgPSBUaWNrZXRGb3JtLm1hcmt1cChmb3JtRGF0YSk7XG4gICAgdGhpcy5jb250YWluZXIuYXBwZW5kKHRoaXMuZm9ybUNvbnRhaW5lcik7XG4gIH1cblxuICBldmVudHMoKSB7XG4gICAgY29uc3QgY2xvc2VCdG4gPSB0aGlzLmZvcm1Db250YWluZXIucXVlcnlTZWxlY3RvcignW2RhdGEtdG9nZ2xlPVwidGlja2V0LWNsb3NlXCJdJyk7XG4gICAgdGhpcy5mb3JtID0gdGhpcy5mb3JtQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ2Zvcm0nKTtcbiAgICBjb25zdCBpbnB1dEVsZW1lbnRzID0gdGhpcy5mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0LCB0ZXh0YXJlYScpO1xuXG4gICAgY2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLmhpZGUoKSk7XG4gICAgdGhpcy5mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChlKSA9PiB0aGlzLm9uU3VibWl0KGUpKTtcblxuICAgIGlucHV0RWxlbWVudHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4gVGlja2V0Rm9ybS5yZW1vdmVFcnJvckNsYXNzKGlucHV0KSk7XG4gICAgfSk7XG4gIH1cblxuICBhc3luYyBzaG93KGRhdGEpIHtcbiAgICB0aGlzLmZvcm1Db250YWluZXIuY2xhc3NMaXN0LmFkZCgndGlja2V0LWZvcm0tY29udGFpbmVyX3Zpc2libGUnKTtcblxuICAgIGlmIChkYXRhKSB7XG4gICAgICB0aGlzLnRpY2tldElkID0gZGF0YS5pZDtcbiAgICAgIHRoaXMuZm9ybUNvbnRhaW5lci5pbm5lckhUTUwgPSBUaWNrZXRGb3JtLm1hcmt1cChkYXRhKTtcbiAgICAgIHRoaXMuZXZlbnRzKCk7XG4gICAgfVxuICB9XG5cbiAgaGlkZSgpIHtcbiAgICB0aGlzLmZvcm1Db250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgndGlja2V0LWZvcm0tY29udGFpbmVyX3Zpc2libGUnKTtcbiAgICB0aGlzLmZvcm0ucmVzZXQoKTtcbiAgfVxuXG4gIGFzeW5jIG9uU3VibWl0KGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgZWxlbWVudHNBcnJheSA9IEFycmF5LmZyb20odGhpcy5mb3JtLmVsZW1lbnRzKTtcbiAgICBjb25zdCBpbnZhbGlkRWxlbWVudCA9IFRpY2tldEZvcm0uZ2V0Tm90VmFsaWRFbChlbGVtZW50c0FycmF5KTtcblxuICAgIGlmIChpbnZhbGlkRWxlbWVudCkge1xuICAgICAgaW52YWxpZEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZXJyb3InKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBkYXRhID0gT2JqZWN0LmZyb21FbnRyaWVzKG5ldyBGb3JtRGF0YShlLnRhcmdldCkpO1xuXG4gICAgaWYgKHRoaXMudGlja2V0SWQpIHtcbiAgICAgIGF3YWl0IHRoaXMudXBkYXRlQ2FsbGJhY2sodGhpcy50aWNrZXRJZCwgZGF0YSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGF3YWl0IHRoaXMuY3JlYXRlQ2FsbGJhY2soZGF0YSk7XG4gIH1cblxuICBzdGF0aWMgcmVtb3ZlRXJyb3JDbGFzcyhpbnB1dCkge1xuICAgIGlmIChpbnB1dC52YWx1ZS50cmltKCkpIHtcbiAgICAgIGlucHV0LmNsYXNzTGlzdC5yZW1vdmUoJ2Vycm9yJyk7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIG1hcmt1cChmb3JtRGF0YSkge1xuICAgIHJldHVybiBgXG4gICAgICAgIDxmb3JtIGlkPVwidGlja2V0LWZvcm1cIiBub3ZhbGlkYXRlPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1jb250cm9sIGZvcm0tdGlja2V0XCI+XG4gICAgICAgICAgPGxhYmVsIGNsYXNzPVwibGFiZWwtdGlja2V0XCIgZm9yPVwibmFtZVwiPtCa0YDQsNGC0LrQvtC1INC+0L/QuNGB0LDQvdC40LU8L2xhYmVsPlxuICAgICAgICAgIDxpbnB1dCBuYW1lPVwibmFtZVwiIGRhdGEtaWQ9XCJuYW1lXCIgY2xhc3M9XCJpbnB1dCBpbnB1dC10aWNrZXRcIiB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwidGlja2V0IG5hbWVcIiBhdXRvY29tcGxldGU9XCJvZmZcIiB2YWx1ZT1cIiR7Zm9ybURhdGEubmFtZX1cIiByZXF1aXJlZD4gXG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1jb250cm9sIGZvcm0tdGlja2V0XCI+XG4gICAgICAgICAgPGxhYmVsIGZvcj1cImRlc2NyaXB0aW9uXCIgY2xhc3M9XCJsYWJlbC10aWNrZXRcIj7Qn9C+0LTRgNC+0LHQvdC+0LUg0L7Qv9C40YHQsNC90LjQtTwvbGFiZWw+XG4gICAgICAgICAgPHRleHRhcmVhIG5hbWU9XCJkZXNjcmlwdGlvblwiIGRhdGEtaWQ9XCJkZXNjcmlwdGlvblwiIGNsYXNzPVwiaW5wdXQgaW5wdXQtdGlja2V0XCIgcGxhY2Vob2xkZXI9XCJ0aWNrZXQgZGVzY3JpcHRpb25cIiBhdXRvY29tcGxldGU9XCJvZmZcIlxuICAgICAgICAgICAgICBjb2xzPVwiMjVcIiByb3dzPVwiNVwiIG1heGxlbmd0aD1cIjEwMFwiIG1pbmxlbmd0aD1cIjIwXCIgdGFiaW5kZXg9XCIwXCI+JHtmb3JtRGF0YS5kZXNjcmlwdGlvbn08L3RleHRhcmVhPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInRpY2tldC1idG5cIj5cbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tYWRkXCIgZGF0YS10b2dnbGU9XCJ0aWNrZXQtY2xvc2VcIiB0aXRsZT1cIkNsb3NlIHRpY2tldCBmb3JtXCI+0J7RgtC80LXQvdCwPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiB0eXBlPVwic3VibWl0XCIgY2xhc3M9XCJidG4gYnRuLWNsb3NlXCIgZGF0YS10b2dnbGU9XCJ0aWNrZXQtYWRkXCIgdGl0bGU9XCJTdWJtaXQgdGlja2V0IGZvcm1cIj7QntCaPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9mb3JtPmA7XG4gIH1cblxuICBzdGF0aWMgZ2V0Tm90VmFsaWRFbChhcnJheSkge1xuICAgIHJldHVybiBhcnJheS5maW5kKChlbCkgPT4ge1xuICAgICAgaWYgKGVsLnR5cGUgIT09ICdidXR0b24nICYmIGVsLnR5cGUgIT09ICdzdWJtaXQnKSB7XG4gICAgICAgIGlmICghZWwudmFsdWUudHJpbSgpKSByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTtcbiAgfVxufVxuIiwiY29uc3QgY3JlYXRlUmVxdWVzdCA9IGFzeW5jICh1cmwsIG1ldGhvZCwgZGF0YSA9IHt9LCBoZWFkZXJzID0ge30pID0+IHtcbiAgdHJ5IHtcbiAgICBsZXQgcmVzcG9uc2U7XG4gICAgY29uc3QgaXNHZXRNZXRob2QgPSBtZXRob2QgPT09ICdhbGxUaWNrZXRzJ1xuICAgICAgICB8fCBtZXRob2Quc3RhcnRzV2l0aCgnZGVsZXRlJylcbiAgICAgICAgfHwgbWV0aG9kLnN0YXJ0c1dpdGgoJ3RpY2tldCcpO1xuXG4gICAgc3dpdGNoIChtZXRob2QpIHtcbiAgICAgIGNhc2UgJ2NyZWF0ZVRpY2tldCc6XG4gICAgICAgIHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7dXJsfT9tZXRob2Q9JHttZXRob2R9YCwge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAuLi5oZWFkZXJzLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAndXBkYXRlQnlJZCc6XG4gICAgICAgIGlmICghZGF0YS5pZCkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0lEIGlzIHJlcXVpcmVkIGZvciB1cGRhdGVCeUlkIG1ldGhvZCcpO1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7dXJsfT9tZXRob2Q9JHttZXRob2R9JmlkPSR7ZGF0YS5pZH1gLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgIC4uLmhlYWRlcnMsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdhbGxUaWNrZXRzJzpcbiAgICAgIGNhc2UgJ3RpY2tldEJ5SWQnOlxuICAgICAgY2FzZSAnZGVsZXRlQnlJZCc6IHtcbiAgICAgICAgaWYgKGlzR2V0TWV0aG9kICYmIG1ldGhvZCAhPT0gJ2FsbFRpY2tldHMnICYmICFkYXRhLmlkKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignSUQgaXMgcmVxdWlyZWQgZm9yIHRpY2tldEJ5SWQgYW5kIGRlbGV0ZUJ5SWQgbWV0aG9kcycpO1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKFxuICAgICAgICAgIGlzR2V0TWV0aG9kID8gZGF0YSA6IHt9LFxuICAgICAgICApLnRvU3RyaW5nKCk7XG4gICAgICAgIHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgICAgYCR7dXJsfT9tZXRob2Q9JHttZXRob2R9JHtxdWVyeVN0cmluZyA/IGAmJHtxdWVyeVN0cmluZ31gIDogJyd9YCxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAuLi5oZWFkZXJzLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICApO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgY29uc29sZS5lcnJvcignVW5zdXBwb3J0ZWQgbWV0aG9kOicsIG1ldGhvZCk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgcmV0dXJuIG1ldGhvZCA9PT0gJ2RlbGV0ZUJ5SWQnID8gJ3N1Y2Nlc3MnIDogYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIH1cblxuICAgIGNvbnNvbGUuZXJyb3IoYFNlcnZlciBlcnJvcjogJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xuICAgIHJldHVybiBudWxsO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ05ldHdvcmsgZXJyb3I6JywgZXJyb3IpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVSZXF1ZXN0O1xuIiwiaW1wb3J0IGNyZWF0ZVJlcXVlc3QgZnJvbSAnLi9hcGkvY3JlYXRlUmVxdWVzdCc7XG5cbi8qKlxuICogINCa0LvQsNGB0YEg0LTQu9GPINGB0LLRj9C30Lgg0YEg0YHQtdGA0LLQtdGA0L7QvC5cbiAqICDQodC+0LTQtdGA0LbQuNGCINC80LXRgtC+0LTRiyDQtNC70Y8g0L7RgtC/0YDQsNCy0LrQuCDQt9Cw0L/RgNC+0YHQvtCyINC90LAg0YHQtdGA0LLQtdGAINC4INC/0L7Qu9GD0YfQtdC90LjRjyDQvtGC0LLQtdGC0L7QslxuICogKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRpY2tldFNlcnZpY2Uge1xuICBjb25zdHJ1Y3Rvcih1cmwpIHtcbiAgICB0aGlzLnVybCA9IHVybDtcbiAgfVxuXG4gIGxpc3QoKSB7XG4gICAgcmV0dXJuIGNyZWF0ZVJlcXVlc3QodGhpcy51cmwsICdhbGxUaWNrZXRzJyk7XG4gIH1cblxuICBnZXQoaWQpIHtcbiAgICByZXR1cm4gY3JlYXRlUmVxdWVzdCh0aGlzLnVybCwgJ3RpY2tldEJ5SWQnLCB7IGlkIH0pO1xuICB9XG5cbiAgY3JlYXRlKGRhdGEpIHtcbiAgICByZXR1cm4gY3JlYXRlUmVxdWVzdCh0aGlzLnVybCwgJ2NyZWF0ZVRpY2tldCcsIGRhdGEpO1xuICB9XG5cbiAgdXBkYXRlKGlkLCBkYXRhKSB7XG4gICAgcmV0dXJuIGNyZWF0ZVJlcXVlc3QodGhpcy51cmwsICd1cGRhdGVCeUlkJywgeyAuLi5kYXRhLCBpZCB9KTtcbiAgfVxuXG4gIGRlbGV0ZShpZCkge1xuICAgIHJldHVybiBjcmVhdGVSZXF1ZXN0KHRoaXMudXJsLCAnZGVsZXRlQnlJZCcsIHsgaWQgfSk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFRpY2tldCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHtcbiAgICAgIGlkLCBuYW1lLCBkZXNjcmlwdGlvbiwgc3RhdHVzLCBjcmVhdGVkLFxuICAgIH0sXG4gICAgY29udGFpbmVyLFxuICAgIHVwZGF0ZUNhbGxiYWNrLFxuICAgIHNob3dGb3JtQ2FsbGJhY2ssXG4gICkge1xuICAgIHRoaXMuaWQgPSBpZDtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgICB0aGlzLnN0YXR1cyA9IHN0YXR1cztcbiAgICB0aGlzLmNyZWF0ZWQgPSBjcmVhdGVkO1xuICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuXG4gICAgdGhpcy51cGRhdGVDYWxsYmFjayA9IHVwZGF0ZUNhbGxiYWNrO1xuICAgIHRoaXMuc2hvd0Zvcm1DYWxsYmFjayA9IHNob3dGb3JtQ2FsbGJhY2s7XG5cbiAgICB0aGlzLmJpbmQoKTtcbiAgfVxuXG4gIGJpbmQoKSB7XG4gICAgdGhpcy5jb250YWluZXIuaW5uZXJIVE1MID0gdGhpcy5tYXJrdXA7XG4gICAgdGhpcy5ldmVudHMoKTtcbiAgfVxuXG4gIGV2ZW50cygpIHtcbiAgICBjb25zdCB1cGRhdGVCdG4gPSB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcudXBkYXRlJyk7XG4gICAgY29uc3QgZGVsZXRlQnRuID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcignLmRlbGV0ZScpO1xuICAgIGNvbnN0IGlzRG9uZUVsID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcignLmRvbmUnKTtcbiAgICBjb25zdCB0aWNrZXRCb2R5ID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcignLnRpY2tldC1ib2R5Jyk7XG5cbiAgICB1cGRhdGVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLnVwZGF0ZSgpKTtcbiAgICBkZWxldGVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLmRlbGV0ZSgpKTtcbiAgICB0aWNrZXRCb2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5zaG93RGVzY3JpcHRpb24oKSk7XG4gICAgaXNEb25lRWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLmRvbmUoKSk7XG4gIH1cblxuICB1cGRhdGUoKSB7XG4gICAgdGhpcy5zaG93Rm9ybUNhbGxiYWNrKHRoaXMuaWQpO1xuICB9XG5cbiAgZGVsZXRlKCkge1xuICAgIGNvbnN0IGRlbGV0ZU1lc3NhZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZGVsZXRlLW1lc3NhZ2UnKTtcbiAgICBkZWxldGVNZXNzYWdlLmNsYXNzTGlzdC5hZGQoJ2RlbGV0ZS1tZXNzYWdlX3Zpc2libGUnKTtcbiAgICBkZWxldGVNZXNzYWdlLnNldEF0dHJpYnV0ZSgnZGF0YS1pZCcsIHRoaXMuaWQpO1xuICB9XG5cbiAgc2hvd0Rlc2NyaXB0aW9uKCkge1xuICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcignLnRpY2tldC1kZXNjcmlwdGlvbicpO1xuICAgIGRlc2NyaXB0aW9uLmNsYXNzTGlzdC50b2dnbGUoJ3RpY2tldC1kZXNjcmlwdGlvbl92aXNpYmxlJyk7XG4gIH1cblxuICBkb25lKCkge1xuICAgIHRoaXMudXBkYXRlQ2FsbGJhY2sodGhpcy5pZCwgeyBzdGF0dXM6ICF0aGlzLnN0YXR1cyB9KTtcbiAgfVxuXG4gIGdldCBtYXJrdXAoKSB7XG4gICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKHRoaXMuY3JlYXRlZCk7XG4gICAgY29uc3QgZm9ybWF0dGVkRGF0ZSA9IGRhdGUudG9Mb2NhbGVTdHJpbmcoJ3J1LVJVJyk7XG5cbiAgICByZXR1cm4gYFxuICAgIDxzcGFuIGNsYXNzPVwiZG9uZVwiIGRhdGEtc3RhdHVzPVwiJHt0aGlzLnN0YXR1c31cIj4ke3RoaXMuc3RhdHVzID8gJyYjMTAwMDM7JyA6ICcnfTwvc3Bhbj5cbiAgICA8dGggY2xhc3M9J3RpY2tldC1ib2R5Jz4gXG4gICAgICA8ZGl2PlxuICAgICAgPHNwYW4gY29sc3Bhbj1cIjJcIiBjbGFzcz1cInRpY2tldC1uYW1lXCIgZGF0YS1uYW1lPVwiJHt0aGlzLm5hbWV9XCI+JHt0aGlzLm5hbWV9PC9zcGFuPlxuICAgICAgPHNwYW4gY29sc3Bhbj1cIjJcIiBjbGFzcz1cInRpY2tldC1kZXNjcmlwdGlvblwiID4ke3RoaXMuZGVzY3JpcHRpb259PC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgICA8c3BhbiBjb2xzcGFuPVwiMlwiIGNsYXNzPVwidGlja2V0LWNyZWF0ZWRcIj4ke2Zvcm1hdHRlZERhdGV9PC9zcGFuPlxuICAgIDwvdGg+XG4gICAgPHRoIGNsYXNzPVwidGlja2V0LWFjdGlvbnNcIj48c3BhbiBjbGFzcz1cInVwZGF0ZVwiPuKcjjwvc3Bhbj48c3BhbiBjbGFzcz1cImRlbGV0ZVwiPuKcljwvc3Bhbj48L3RoPlxuICAgIGA7XG4gIH1cbn1cbiIsImltcG9ydCBUaWNrZXQgZnJvbSAnLi90aWNrZXQnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUaWNrZXRWaWV3IHtcbiAgY29uc3RydWN0b3IoY29udGFpbmVyLCB1cGRhdGVDYWxsYmFjaywgc2hvd0Zvcm1DYWxsYmFjaykge1xuICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgIHRoaXMudXBkYXRlQ2FsbGJhY2sgPSB1cGRhdGVDYWxsYmFjaztcbiAgICB0aGlzLnNob3dGb3JtQ2FsbGJhY2sgPSBzaG93Rm9ybUNhbGxiYWNrO1xuICAgIHRoaXMudGlja2V0cyA9IFtdO1xuICB9XG5cbiAgYmluZFRvRE9NKGRhdGEpIHtcbiAgICBkYXRhLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIGNvbnN0IHRhYmxlUm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcbiAgICAgIGNvbnN0IHRpY2tldCA9IG5ldyBUaWNrZXQoXG4gICAgICAgIGl0ZW0sXG4gICAgICAgIHRhYmxlUm93LFxuICAgICAgICB0aGlzLnVwZGF0ZUNhbGxiYWNrLFxuICAgICAgICB0aGlzLnNob3dGb3JtQ2FsbGJhY2ssXG4gICAgICApO1xuXG4gICAgICB0aGlzLnRpY2tldHMucHVzaCh0aWNrZXQpO1xuICAgICAgdGFibGVSb3cuc2V0QXR0cmlidXRlKCdkYXRhLXJvdycsIGl0ZW0uaWQpO1xuICAgICAgdGFibGVSb3cuY2xhc3NMaXN0LmFkZCgndGlja2V0LXJvdycpO1xuICAgICAgdGhpcy5jb250YWluZXIuYXBwZW5kKHRhYmxlUm93KTtcbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IFRpY2tldEZvcm0gZnJvbSAnLi90aWNrZXRGb3JtJztcbmltcG9ydCBUaWNrZXRTZXJ2aWNlIGZyb20gJy4vdGlja2V0U2VydmljZSc7XG5pbXBvcnQgVGlja2V0VmlldyBmcm9tICcuL3RpY2tldFZpZXcnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBIZWxwRGVzayB7XG4gIGNvbnN0cnVjdG9yKGNvbnRhaW5lciwgdXJsKSB7XG4gICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgdGhpcy50aWNrZXRTZXJ2aWNlID0gbmV3IFRpY2tldFNlcnZpY2UodXJsKTtcbiAgICB0aGlzLmZvcm0gPSBudWxsO1xuICAgIHRoaXMudGlja2V0VmlldyA9IG51bGw7XG4gICAgdGhpcy50YWJsZUJvZHkgPSBudWxsO1xuICAgIHRoaXMuZGVsZXRlTWVzc2FnZSA9IG51bGw7XG4gICAgdGhpcy51cGRhdGVUaWNrZXQgPSB0aGlzLnVwZGF0ZVRpY2tldC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuc2hvd0Zvcm0gPSB0aGlzLnNob3dGb3JtLmJpbmQodGhpcyk7XG4gICAgdGhpcy5jcmVhdGVUaWNrZXQgPSB0aGlzLmNyZWF0ZVRpY2tldC5iaW5kKHRoaXMpO1xuICB9XG5cbiAgYXN5bmMgaW5pdCgpIHtcbiAgICB0aGlzLnJlbmRlckluaXRpYWxNYXJrdXAoKTtcbiAgICB0aGlzLmluaXRpYWxpemVET01FbGVtZW50cygpO1xuICAgIHRoaXMuaW5pdGlhbGl6ZVRpY2tldFZpZXcoKTtcbiAgICB0aGlzLmluaXRpYWxpemVUaWNrZXRGb3JtKCk7XG4gICAgdGhpcy5ldmVudHMoKTtcbiAgICBhd2FpdCB0aGlzLnJlbG9hZERhdGEoKTtcbiAgfVxuXG4gIHJlbmRlckluaXRpYWxNYXJrdXAoKSB7XG4gICAgdGhpcy5jb250YWluZXIuaW5uZXJIVE1MID0gSGVscERlc2subWFya3VwKCk7XG4gIH1cblxuICBpbml0aWFsaXplRE9NRWxlbWVudHMoKSB7XG4gICAgdGhpcy50YWJsZUJvZHkgPSB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCd0Ym9keScpO1xuICAgIHRoaXMuZGVsZXRlTWVzc2FnZSA9IHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5kZWxldGUtbWVzc2FnZScpO1xuICB9XG5cbiAgaW5pdGlhbGl6ZVRpY2tldFZpZXcoKSB7XG4gICAgdGhpcy50aWNrZXRWaWV3ID0gbmV3IFRpY2tldFZpZXcodGhpcy50YWJsZUJvZHksIHRoaXMudXBkYXRlVGlja2V0LCB0aGlzLnNob3dGb3JtKTtcbiAgfVxuXG4gIGluaXRpYWxpemVUaWNrZXRGb3JtKCkge1xuICAgIHRoaXMuZm9ybSA9IG5ldyBUaWNrZXRGb3JtKHRoaXMuY29udGFpbmVyLCB0aGlzLnVwZGF0ZVRpY2tldCwgdGhpcy5jcmVhdGVUaWNrZXQpO1xuICB9XG5cbiAgZXZlbnRzKCkge1xuICAgIGNvbnN0IGFkZEVsID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcignW2RhdGEtaWQ9XCJhZGRcIl0nKTtcbiAgICBjb25zdCBkZWxldGVUaWNrZXQgPSB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCdbZGF0YS10b2dnbGU9XCJkZWxldGUtdGlja2V0XCJdJyk7XG4gICAgY29uc3QgY2xvc2VNZXNzYWdlID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcignW2RhdGEtdG9nZ2xlPVwiY2xvc2UtbWVzc2FnZVwiXScpO1xuXG4gICAgYWRkRWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLnNob3dGb3JtKCkpO1xuICAgIGRlbGV0ZVRpY2tldC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuZGVsZXRlVGlja2V0KCkpO1xuICAgIGNsb3NlTWVzc2FnZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuY2xvc2VNZXNzYWdlKCkpO1xuICB9XG5cbiAgYXN5bmMgcmVsb2FkRGF0YSgpIHtcbiAgICB3aGlsZSAodGhpcy50YWJsZUJvZHkuZmlyc3RDaGlsZCkge1xuICAgICAgdGhpcy50YWJsZUJvZHkucmVtb3ZlQ2hpbGQodGhpcy50YWJsZUJvZHkuZmlyc3RDaGlsZCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLnRpY2tldFNlcnZpY2UubGlzdCgpO1xuICAgIGlmIChkYXRhKSB7XG4gICAgICB0aGlzLnRpY2tldFZpZXcuYmluZFRvRE9NKGRhdGEpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGRlbGV0ZVRpY2tldCgpIHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnRpY2tldFNlcnZpY2UuZGVsZXRlKFxuICAgICAgdGhpcy5kZWxldGVNZXNzYWdlLmRhdGFzZXQuaWQsXG4gICAgKTtcbiAgICBpZiAocmVzdWx0ICE9PSBudWxsKSB7XG4gICAgICBhd2FpdCB0aGlzLnJlbG9hZERhdGEoKTtcbiAgICAgIHRoaXMuY2xvc2VNZXNzYWdlKCk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgY3JlYXRlVGlja2V0KGRhdGEpIHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnRpY2tldFNlcnZpY2UuY3JlYXRlKGRhdGEpO1xuICAgIGlmIChyZXN1bHQgIT09IG51bGwpIHtcbiAgICAgIGF3YWl0IHRoaXMucmVsb2FkRGF0YSgpO1xuICAgICAgdGhpcy5mb3JtLmhpZGUoKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyB1cGRhdGVUaWNrZXQoaWQsIG5ld0RhdGEpIHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnRpY2tldFNlcnZpY2UudXBkYXRlKGlkLCBuZXdEYXRhKTtcbiAgICBpZiAocmVzdWx0ICE9PSBudWxsKSB7XG4gICAgICBhd2FpdCB0aGlzLnJlbG9hZERhdGEoKTtcbiAgICAgIHRoaXMuZm9ybS5oaWRlKCk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZ2V0VGlja2V0KGlkKSB7XG4gICAgY29uc3QgdGlja2V0ID0gYXdhaXQgdGhpcy50aWNrZXRTZXJ2aWNlLmdldChpZCk7XG4gICAgcmV0dXJuIHRpY2tldDtcbiAgfVxuXG4gIGNsb3NlTWVzc2FnZSgpIHtcbiAgICB0aGlzLmRlbGV0ZU1lc3NhZ2UuY2xhc3NMaXN0LnJlbW92ZSgnZGVsZXRlLW1lc3NhZ2VfdmlzaWJsZScpO1xuICB9XG5cbiAgYXN5bmMgc2hvd0Zvcm0oaWQpIHtcbiAgICBpZiAoaWQpIHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZ2V0VGlja2V0KGlkKTtcbiAgICAgIHRoaXMuZm9ybS5zaG93KHJlc3VsdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZm9ybS5zaG93KCk7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIG1hcmt1cCgpIHtcbiAgICByZXR1cm4gYFxuICAgICAgPHRhYmxlIGNsYXNzPVwidGFibGVcIj5cbiAgICAgICAgPHRoZWFkPlxuICAgICAgICAgIDx0ciBjbGFzcz1cInRpY2tldHNcIj5cbiAgICAgICAgICAgIDx0aCBjb2xzcGFuPVwiNlwiIHN0eWxlPVwidGV4dC1hbGlnbjpyaWdodFwiIGRhdGEtaWQ9XCJhZGRcIj48c3BhbiBjbGFzcz1cImFkZFwiPtCU0L7QsdCw0LLQuNGC0Ywg0YLQuNC60LXRgjwvc3Bhbj48L3RoPlxuICAgICAgICAgIDwvdHI+XG4gICAgICAgIDwvdGhlYWQ+XG4gICAgICAgIDx0Ym9keT48L3Rib2R5PlxuICAgICAgPC90YWJsZT5cbiAgICAgIDxkaXYgY2xhc3M9XCJkZWxldGUtbWVzc2FnZVwiPlxuICAgICAgICA8aDI+0KPQtNCw0LvQuNGC0Ywg0YLQuNC60LXRgjwvaDI+XG4gICAgICAgIDxkaXY+0JLRiyDRg9Cy0LXRgNC10L3Riywg0YfRgtC+INGF0L7RgtC40YLQtSDRg9C00LDQu9C40YLRjCDRgtC40LrQtdGCPyDQrdGC0L4g0LTQtdC50YHRgtCy0LjQtSDQvdC10L7QsdGA0LDRgtC40LzQvjwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwidGlja2V0LWJ0blwiPlxuICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1jbG9zZVwiIGRhdGEtdG9nZ2xlPVwiY2xvc2UtbWVzc2FnZVwiIHRpdGxlPVwiQ2xvc2UgZGVsZXRlIG1lc3NhZ2VcIj7QntGC0LzQtdC90LA8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tYWRkXCIgZGF0YS10b2dnbGU9XCJkZWxldGUtdGlja2V0XCIgdGl0bGU9XCJCdXR0b24gZm9yIGRlbGV0ZSB0aWNrZXRcIj5PazwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIGA7XG4gIH1cbn1cbiIsImltcG9ydCBIZWxwRGVzayBmcm9tICcuL2hlbHBEZXNrJztcblxuY29uc3Qgcm9vdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyb290Jyk7XG5jb25zdCB1cmwgPSAnaHR0cDovL2xvY2FsaG9zdDozMDAwLyc7XG5cbmNvbnN0IGFwcCA9IG5ldyBIZWxwRGVzayhyb290LCB1cmwpO1xuXG5hcHAuaW5pdCgpO1xuIl0sIm5hbWVzIjpbIlRpY2tldEZvcm0iLCJjb25zdHJ1Y3RvciIsImNvbnRhaW5lciIsInVwZGF0ZUNhbGxiYWNrIiwiY3JlYXRlQ2FsbGJhY2siLCJ0aGlzIiwiZm9ybUNvbnRhaW5lciIsImVycm9yRWxlbWVudCIsImZvcm0iLCJiaW5kVG9ET00iLCJjcmVhdGVGb3JtQ29udGFpbmVyIiwibmFtZSIsImRlc2NyaXB0aW9uIiwiZXZlbnRzIiwiZm9ybURhdGEiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJpbm5lckhUTUwiLCJtYXJrdXAiLCJhcHBlbmQiLCJjbG9zZUJ0biIsInF1ZXJ5U2VsZWN0b3IiLCJpbnB1dEVsZW1lbnRzIiwicXVlcnlTZWxlY3RvckFsbCIsImFkZEV2ZW50TGlzdGVuZXIiLCJoaWRlIiwiZSIsIm9uU3VibWl0IiwiZm9yRWFjaCIsImlucHV0IiwicmVtb3ZlRXJyb3JDbGFzcyIsInNob3ciLCJkYXRhIiwidGlja2V0SWQiLCJpZCIsInJlbW92ZSIsInJlc2V0IiwicHJldmVudERlZmF1bHQiLCJlbGVtZW50c0FycmF5IiwiQXJyYXkiLCJmcm9tIiwiZWxlbWVudHMiLCJpbnZhbGlkRWxlbWVudCIsImdldE5vdFZhbGlkRWwiLCJPYmplY3QiLCJmcm9tRW50cmllcyIsIkZvcm1EYXRhIiwidGFyZ2V0IiwidmFsdWUiLCJ0cmltIiwiYXJyYXkiLCJmaW5kIiwiZWwiLCJ0eXBlIiwiYXN5bmMiLCJ1cmwiLCJtZXRob2QiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJoZWFkZXJzIiwicmVzcG9uc2UiLCJpc0dldE1ldGhvZCIsInN0YXJ0c1dpdGgiLCJmZXRjaCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiY29uc29sZSIsImVycm9yIiwicXVlcnlTdHJpbmciLCJVUkxTZWFyY2hQYXJhbXMiLCJ0b1N0cmluZyIsIm9rIiwianNvbiIsInN0YXR1c1RleHQiLCJUaWNrZXRTZXJ2aWNlIiwibGlzdCIsImNyZWF0ZVJlcXVlc3QiLCJnZXQiLCJjcmVhdGUiLCJ1cGRhdGUiLCJkZWxldGUiLCJUaWNrZXQiLCJfcmVmIiwic2hvd0Zvcm1DYWxsYmFjayIsInN0YXR1cyIsImNyZWF0ZWQiLCJiaW5kIiwidXBkYXRlQnRuIiwiZGVsZXRlQnRuIiwiaXNEb25lRWwiLCJ0aWNrZXRCb2R5Iiwic2hvd0Rlc2NyaXB0aW9uIiwiZG9uZSIsImRlbGV0ZU1lc3NhZ2UiLCJzZXRBdHRyaWJ1dGUiLCJ0b2dnbGUiLCJmb3JtYXR0ZWREYXRlIiwiRGF0ZSIsInRvTG9jYWxlU3RyaW5nIiwiVGlja2V0VmlldyIsInRpY2tldHMiLCJpdGVtIiwidGFibGVSb3ciLCJ0aWNrZXQiLCJwdXNoIiwiSGVscERlc2siLCJ0aWNrZXRTZXJ2aWNlIiwidGlja2V0VmlldyIsInRhYmxlQm9keSIsInVwZGF0ZVRpY2tldCIsInNob3dGb3JtIiwiY3JlYXRlVGlja2V0IiwiaW5pdCIsInJlbmRlckluaXRpYWxNYXJrdXAiLCJpbml0aWFsaXplRE9NRWxlbWVudHMiLCJpbml0aWFsaXplVGlja2V0VmlldyIsImluaXRpYWxpemVUaWNrZXRGb3JtIiwicmVsb2FkRGF0YSIsImFkZEVsIiwiZGVsZXRlVGlja2V0IiwiY2xvc2VNZXNzYWdlIiwiZmlyc3RDaGlsZCIsInJlbW92ZUNoaWxkIiwiZGF0YXNldCIsIm5ld0RhdGEiLCJnZXRUaWNrZXQiLCJyZXN1bHQiLCJyb290IiwiZ2V0RWxlbWVudEJ5SWQiXSwic291cmNlUm9vdCI6IiJ9